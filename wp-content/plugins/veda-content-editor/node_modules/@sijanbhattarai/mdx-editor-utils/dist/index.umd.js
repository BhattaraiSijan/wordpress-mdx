(function(f,F){typeof exports=="object"&&typeof module<"u"?F(exports,require("mdast-util-gfm"),require("mdast-util-mdx-jsx"),require("unist-util-visit"),require("react/jsx-runtime"),require("react"),require("@trussworks/react-uswds"),require("@teamimpact/veda-ui")):typeof define=="function"&&define.amd?define(["exports","mdast-util-gfm","mdast-util-mdx-jsx","unist-util-visit","react/jsx-runtime","react","@trussworks/react-uswds","@teamimpact/veda-ui"],F):(f=typeof globalThis<"u"?globalThis:f||self,F(f.MDXEditorUtils={},f.mdastUtilGfm,f.mdastUtilMdxJsx,f.unistUtilVisit,f.ReactJSXRuntime,f.React,f.reactUswds,f.vedaUi))})(this,function(f,F,_,D,m,P,C,p){"use strict";const I={}.hasOwnProperty;function xe(e,n){const t=n||{};function r(i,...c){let o=r.invalid;const l=r.handlers;if(i&&I.call(i,e)){const a=String(i[e]);o=I.call(l,a)?l[a]:r.unknown}if(o)return o.call(this,i,...c)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}const Ce={}.hasOwnProperty;function H(e,n){let t=-1,r;if(n.extensions)for(;++t<n.extensions.length;)H(e,n.extensions[t]);for(r in n)if(Ce.call(n,r))switch(r){case"extensions":break;case"unsafe":{z(e[r],n[r]);break}case"join":{z(e[r],n[r]);break}case"handlers":{ye(e[r],n[r]);break}default:e.options[r]=n[r]}return e}function z(e,n){n&&e.push(...n)}function ye(e,n){n&&Object.assign(e,n)}function we(e,n,t,r){const i=t.enter("blockquote"),c=t.createTracker(r);c.move("> "),c.shift(2);const o=t.indentLines(t.containerFlow(e,c.current()),ve);return i(),o}function ve(e,n,t){return">"+(t?"":" ")+e}function q(e,n){return $(e,n.inConstruct,!0)&&!$(e,n.notInConstruct,!1)}function $(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let r=-1;for(;++r<n.length;)if(e.includes(n[r]))return!0;return!1}function V(e,n,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&q(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Pe(e,n){const t=String(e);let r=t.indexOf(n),i=r,c=0,o=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++c>o&&(o=c):c=1,i=r+n.length,r=t.indexOf(n,i);return o}function M(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Ae(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function Fe(e,n,t,r){const i=Ae(t),c=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(M(e,t)){const h=t.enter("codeIndented"),d=t.indentLines(c,Se);return h(),d}const l=t.createTracker(r),a=i.repeat(Math.max(Pe(c,i)+1,3)),s=t.enter("codeFenced");let u=l.move(a);if(e.lang){const h=t.enter(`codeFencedLang${o}`);u+=l.move(t.safe(e.lang,{before:u,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=t.enter(`codeFencedMeta${o}`);u+=l.move(" "),u+=l.move(t.safe(e.meta,{before:u,after:`
`,encode:["`"],...l.current()})),h()}return u+=l.move(`
`),c&&(u+=l.move(c+`
`)),u+=l.move(a),s(),u}function Se(e,n,t){return(t?"":"    ")+e}function j(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function Te(e,n,t,r){const i=j(t),c=i==='"'?"Quote":"Apostrophe",o=t.enter("definition");let l=t.enter("label");const a=t.createTracker(r);let s=a.move("[");return s+=a.move(t.safe(t.associationId(e),{before:s,after:"]",...a.current()})),s+=a.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=t.enter("destinationLiteral"),s+=a.move("<"),s+=a.move(t.safe(e.url,{before:s,after:">",...a.current()})),s+=a.move(">")):(l=t.enter("destinationRaw"),s+=a.move(t.safe(e.url,{before:s,after:e.title?" ":`
`,...a.current()}))),l(),e.title&&(l=t.enter(`title${c}`),s+=a.move(" "+i),s+=a.move(t.safe(e.title,{before:s,after:i,...a.current()})),s+=a.move(i),l()),o(),s}function Ee(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function v(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Me(e){return e!==null&&(e<0||e===32)}const je=G(/\p{P}|\p{S}/u),Be=G(/\s/);function G(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function J(e){if(e===null||Me(e)||Be(e))return 1;if(je(e))return 2}function S(e,n,t){const r=J(e),i=J(n);return r===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}N.peek=Le;function N(e,n,t,r){const i=Ee(t),c=t.enter("emphasis"),o=t.createTracker(r),l=o.move(i);let a=o.move(t.containerPhrasing(e,{after:i,before:l,...o.current()}));const s=a.charCodeAt(0),u=S(r.before.charCodeAt(r.before.length-1),s,i);u.inside&&(a=v(s)+a.slice(1));const h=a.charCodeAt(a.length-1),d=S(r.after.charCodeAt(0),h,i);d.inside&&(a=a.slice(0,-1)+v(h));const k=o.move(i);return c(),t.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},l+a+k}function Le(e,n,t){return t.options.emphasis||"*"}const Oe={};function Q(e,n){const t=Oe,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return R(e,r,i)}function R(e,n,t){if(_e(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return W(e.children,n,t)}return Array.isArray(e)?W(e,n,t):""}function W(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=R(e[i],n,t);return r.join("")}function _e(e){return!!(e&&typeof e=="object")}function X(e,n){let t=!1;return D.visit(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,D.EXIT}),!!((!e.depth||e.depth<3)&&Q(e)&&(n.options.setext||t))}function De(e,n,t,r){const i=Math.max(Math.min(6,e.depth||1),1),c=t.createTracker(r);if(X(e,t)){const u=t.enter("headingSetext"),h=t.enter("phrasing"),d=t.containerPhrasing(e,{...c.current(),before:`
`,after:`
`});return h(),u(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=t.enter("headingAtx"),a=t.enter("phrasing");c.move(o+" ");let s=t.containerPhrasing(e,{before:"# ",after:`
`,...c.current()});return/^[\t ]/.test(s)&&(s=v(s.charCodeAt(0))+s.slice(1)),s=s?o+" "+s:o,t.options.closeAtx&&(s+=" "+o),a(),l(),s}Z.peek=Ie;function Z(e){return e.value||""}function Ie(){return"<"}K.peek=He;function K(e,n,t,r){const i=j(t),c=i==='"'?"Quote":"Apostrophe",o=t.enter("image");let l=t.enter("label");const a=t.createTracker(r);let s=a.move("![");return s+=a.move(t.safe(e.alt,{before:s,after:"]",...a.current()})),s+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=t.enter("destinationLiteral"),s+=a.move("<"),s+=a.move(t.safe(e.url,{before:s,after:">",...a.current()})),s+=a.move(">")):(l=t.enter("destinationRaw"),s+=a.move(t.safe(e.url,{before:s,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=t.enter(`title${c}`),s+=a.move(" "+i),s+=a.move(t.safe(e.title,{before:s,after:i,...a.current()})),s+=a.move(i),l()),s+=a.move(")"),o(),s}function He(){return"!"}Y.peek=ze;function Y(e,n,t,r){const i=e.referenceType,c=t.enter("imageReference");let o=t.enter("label");const l=t.createTracker(r);let a=l.move("![");const s=t.safe(e.alt,{before:a,after:"]",...l.current()});a+=l.move(s+"]["),o();const u=t.stack;t.stack=[],o=t.enter("reference");const h=t.safe(t.associationId(e),{before:a,after:"]",...l.current()});return o(),t.stack=u,c(),i==="full"||!s||s!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function ze(){return"!"}U.peek=qe;function U(e,n,t){let r=e.value||"",i="`",c=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++c<t.unsafe.length;){const o=t.unsafe[c],l=t.compilePattern(o);let a;if(o.atBreak)for(;a=l.exec(r);){let s=a.index;r.charCodeAt(s)===10&&r.charCodeAt(s-1)===13&&s--,r=r.slice(0,s)+" "+r.slice(a.index+1)}}return i+r+i}function qe(){return"`"}function ee(e,n){const t=Q(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}te.peek=$e;function te(e,n,t,r){const i=j(t),c=i==='"'?"Quote":"Apostrophe",o=t.createTracker(r);let l,a;if(ee(e,t)){const u=t.stack;t.stack=[],l=t.enter("autolink");let h=o.move("<");return h+=o.move(t.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),l(),t.stack=u,h}l=t.enter("link"),a=t.enter("label");let s=o.move("[");return s+=o.move(t.containerPhrasing(e,{before:s,after:"](",...o.current()})),s+=o.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=t.enter("destinationLiteral"),s+=o.move("<"),s+=o.move(t.safe(e.url,{before:s,after:">",...o.current()})),s+=o.move(">")):(a=t.enter("destinationRaw"),s+=o.move(t.safe(e.url,{before:s,after:e.title?" ":")",...o.current()}))),a(),e.title&&(a=t.enter(`title${c}`),s+=o.move(" "+i),s+=o.move(t.safe(e.title,{before:s,after:i,...o.current()})),s+=o.move(i),a()),s+=o.move(")"),l(),s}function $e(e,n,t){return ee(e,t)?"<":"["}ne.peek=Ve;function ne(e,n,t,r){const i=e.referenceType,c=t.enter("linkReference");let o=t.enter("label");const l=t.createTracker(r);let a=l.move("[");const s=t.containerPhrasing(e,{before:a,after:"]",...l.current()});a+=l.move(s+"]["),o();const u=t.stack;t.stack=[],o=t.enter("reference");const h=t.safe(t.associationId(e),{before:a,after:"]",...l.current()});return o(),t.stack=u,c(),i==="full"||!s||s!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function Ve(){return"["}function B(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function Ge(e){const n=B(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}function Je(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function re(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function Ne(e,n,t,r){const i=t.enter("list"),c=t.bulletCurrent;let o=e.ordered?Je(t):B(t);const l=e.ordered?o==="."?")":".":Ge(t);let a=n&&t.bulletLastUsed?o===t.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(a=!0),re(t)===o&&u){let h=-1;for(;++h<e.children.length;){const d=e.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=l),t.bulletCurrent=o;const s=t.containerFlow(e,r);return t.bulletLastUsed=o,t.bulletCurrent=c,i(),s}function Qe(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function Re(e,n,t,r){const i=Qe(t);let c=t.bulletCurrent||B(t);n&&n.type==="list"&&n.ordered&&(c=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+c);let o=c.length+1;(i==="tab"||i==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=t.createTracker(r);l.move(c+" ".repeat(o-c.length)),l.shift(o);const a=t.enter("listItem"),s=t.indentLines(t.containerFlow(e,l.current()),u);return a(),s;function u(h,d,k){return d?(k?"":" ".repeat(o))+h:(k?c:c+" ".repeat(o-c.length))+h}}function We(e,n,t,r){const i=t.enter("paragraph"),c=t.enter("phrasing"),o=t.containerPhrasing(e,r);return c(),i(),o}const ie=function(e){if(e==null)return Ye;if(typeof e=="function")return T(e);if(typeof e=="object")return Array.isArray(e)?Xe(e):Ze(e);if(typeof e=="string")return Ke(e);throw new Error("Expected function, string, or object as test")};function Xe(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=ie(e[t]);return T(r);function r(...i){let c=-1;for(;++c<n.length;)if(n[c].apply(this,i))return!0;return!1}}function Ze(e){const n=e;return T(t);function t(r){const i=r;let c;for(c in e)if(i[c]!==n[c])return!1;return!0}}function Ke(e){return T(n);function n(t){return t&&t.type===e}}function T(e){return n;function n(t,r,i){return!!(Ue(t)&&e.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function Ye(){return!0}function Ue(e){return e!==null&&typeof e=="object"&&"type"in e}const et=ie(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function tt(e,n,t,r){return(e.children.some(function(o){return et(o)})?t.containerPhrasing:t.containerFlow).call(t,e,r)}function nt(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}oe.peek=rt;function oe(e,n,t,r){const i=nt(t),c=t.enter("strong"),o=t.createTracker(r),l=o.move(i+i);let a=o.move(t.containerPhrasing(e,{after:i,before:l,...o.current()}));const s=a.charCodeAt(0),u=S(r.before.charCodeAt(r.before.length-1),s,i);u.inside&&(a=v(s)+a.slice(1));const h=a.charCodeAt(a.length-1),d=S(r.after.charCodeAt(0),h,i);d.inside&&(a=a.slice(0,-1)+v(h));const k=o.move(i+i);return c(),t.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},l+a+k}function rt(e,n,t){return t.options.strong||"*"}function it(e,n,t,r){return t.safe(e.value,r)}function ot(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function ct(e,n,t){const r=(re(t)+(t.options.ruleSpaces?" ":"")).repeat(ot(t));return t.options.ruleSpaces?r.slice(0,-1):r}const at={blockquote:we,break:V,code:Fe,definition:Te,emphasis:N,hardBreak:V,heading:De,html:Z,image:K,imageReference:Y,inlineCode:U,link:te,linkReference:ne,list:Ne,listItem:Re,paragraph:We,root:tt,strong:oe,text:it,thematicBreak:ct},lt=[st];function st(e,n,t,r){if(n.type==="code"&&M(n,r)&&(e.type==="list"||e.type===n.type&&M(e,r)))return!1;if("spread"in t&&typeof t.spread=="boolean")return e.type==="paragraph"&&(e.type===n.type||n.type==="definition"||n.type==="heading"&&X(n,r))?void 0:t.spread?1:0}const A=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],ut=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:A},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:A},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:A},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:A},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:A},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:A},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:A},{atBreak:!0,character:"~"}],ce=document.createElement("i");function ft(e){const n="&"+e+";";ce.innerHTML=n;const t=ce.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}function ht(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}const dt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mt(e){return e.replace(dt,pt)}function pt(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),c=i===120||i===88;return ht(t.slice(c?2:1),c?16:10)}return ft(t)||e}function gt(e){return e.label||!e.identifier?e.label||"":mt(e.identifier)}function kt(e){if(!e._compiled){const n=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function bt(e,n,t){const r=n.indexStack,i=e.children||[],c=[];let o=-1,l=t.before,a;r.push(-1);let s=n.createTracker(t);for(;++o<i.length;){const u=i[o];let h;if(r[r.length-1]=o,o+1<i.length){let b=n.handle.handlers[i[o+1].type];b&&b.peek&&(b=b.peek),h=b?b(i[o+1],e,n,{before:"",after:"",...s.current()}).charAt(0):""}else h=t.after;c.length>0&&(l==="\r"||l===`
`)&&u.type==="html"&&(c[c.length-1]=c[c.length-1].replace(/(\r?\n|\r)$/," "),l=" ",s=n.createTracker(t),s.move(c.join("")));let d=n.handle(u,e,n,{...s.current(),after:h,before:l});a&&a===d.slice(0,1)&&(d=v(a.charCodeAt(0))+d.slice(1));const k=n.attentionEncodeSurroundingInfo;n.attentionEncodeSurroundingInfo=void 0,a=void 0,k&&(c.length>0&&k.before&&l===c[c.length-1].slice(-1)&&(c[c.length-1]=c[c.length-1].slice(0,-1)+v(l.charCodeAt(0))),k.after&&(a=h)),s.move(d),c.push(d),l=d.slice(-1)}return r.pop(),c.join("")}function xt(e,n,t){const r=n.indexStack,i=e.children||[],c=n.createTracker(t),o=[];let l=-1;for(r.push(-1);++l<i.length;){const a=i[l];r[r.length-1]=l,o.push(c.move(n.handle(a,e,n,{before:`
`,after:`
`,...c.current()}))),a.type!=="list"&&(n.bulletLastUsed=void 0),l<i.length-1&&o.push(c.move(Ct(a,i[l+1],e,n)))}return r.pop(),o.join("")}function Ct(e,n,t,r){let i=r.join.length;for(;i--;){const c=r.join[i](e,n,t,r);if(c===!0||c===1)break;if(typeof c=="number")return`
`.repeat(1+c);if(c===!1)return`

<!---->

`}return`

`}const yt=/\r?\n|\r/g;function wt(e,n){const t=[];let r=0,i=0,c;for(;c=yt.exec(e);)o(e.slice(r,c.index)),t.push(c[0]),r=c.index+c[0].length,i++;return o(e.slice(r)),t.join("");function o(l){t.push(n(l,i,!l))}}function vt(e,n,t){const r=(t.before||"")+(n||"")+(t.after||""),i=[],c=[],o={};let l=-1;for(;++l<e.unsafe.length;){const u=e.unsafe[l];if(!q(e.stack,u))continue;const h=e.compilePattern(u);let d;for(;d=h.exec(r);){const k="before"in u||!!u.atBreak,b="after"in u,y=d.index+(k?d[1].length:0);i.includes(y)?(o[y].before&&!k&&(o[y].before=!1),o[y].after&&!b&&(o[y].after=!1)):(i.push(y),o[y]={before:k,after:b})}}i.sort(Pt);let a=t.before?t.before.length:0;const s=r.length-(t.after?t.after.length:0);for(l=-1;++l<i.length;){const u=i[l];u<a||u>=s||u+1<s&&i[l+1]===u+1&&o[u].after&&!o[u+1].before&&!o[u+1].after||i[l-1]===u-1&&o[u].before&&!o[u-1].before&&!o[u-1].after||(a!==u&&c.push(ae(r.slice(a,u),"\\")),a=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!t.encode||!t.encode.includes(r.charAt(u)))?c.push("\\"):(c.push(v(r.charCodeAt(u))),a++))}return c.push(ae(r.slice(a,s),t.after)),c.join("")}function Pt(e,n){return e-n}function ae(e,n){const t=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],c=e+n;let o=-1,l=0,a;for(;a=t.exec(c);)r.push(a.index);for(;++o<r.length;)l!==r[o]&&i.push(e.slice(l,r[o])),i.push("\\"),l=r[o];return i.push(e.slice(l)),i.join("")}function At(e){const n=e||{},t=n.now||{};let r=n.lineShift||0,i=t.line||1,c=t.column||1;return{move:a,current:o,shift:l};function o(){return{now:{line:i,column:c},lineShift:r}}function l(s){r+=s}function a(s){const u=s||"",h=u.split(/\r?\n|\r/g),d=h[h.length-1];return i+=h.length-1,c=h.length===1?c+d.length:1+d.length+r,u}}function Ft(e,n){const t=n||{},r={associationId:gt,containerPhrasing:Mt,containerFlow:jt,createTracker:At,compilePattern:kt,enter:c,handlers:{...at},handle:void 0,indentLines:wt,indexStack:[],join:[...lt],options:{},safe:Bt,stack:[],unsafe:[...ut]};H(r,t),r.options.tightDefinitions&&r.join.push(Et),r.handle=xe("type",{invalid:St,unknown:Tt,handlers:r.handlers});let i=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function c(o){return r.stack.push(o),l;function l(){r.stack.pop()}}}function St(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Tt(e){const n=e;throw new Error("Cannot handle unknown node `"+n.type+"`")}function Et(e,n){if(e.type==="definition"&&e.type===n.type)return 0}function Mt(e,n){return bt(e,this,n)}function jt(e,n){return xt(e,this,n)}function Bt(e,n){return vt(this,e,n)}function Lt(){return{handlers:{mdxFlowExpression:le,mdxTextExpression:le},unsafe:[{character:"{",inConstruct:["phrasing"]},{atBreak:!0,character:"{"}]}}function le(e,n,t){const r=e.value||"";return"{"+t.indentLines(r,function(c,o,l){return(o===0||l?"":"  ")+c})+"}"}function Ot(){return{handlers:{mdxjsEsm:_t}}}function _t(e){return e.value||""}function Dt(e){return{extensions:[Lt(),_.mdxJsxToMarkdown(e),Ot()]}}const se=e=>{const n=[],t=(r,i,c)=>{if(r.type==="text"&&r.value&&r.value.includes("import")&&r.value.includes("from")&&i&&Array.isArray(i.children)&&typeof c=="number"){i.children.splice(c,1),n.push({type:"paragraph",children:[r]});return}if(r.children&&Array.isArray(r.children)){const o=[...r.children];for(let l=0;l<o.length;l++)t(o[l],r,l)}};return t(e,null,null),e.type==="root"&&Array.isArray(e.children)&&(e.children=[...n,...e.children]),e},L=e=>{const n=e.attributes.reduce((r,i)=>(r[i.name]=i.value,r),{});return{type:"mdxJsxFlowElement",name:"Figure",attributes:[],children:[{...e},{type:"mdxJsxFlowElement",name:"Caption",attributes:[{name:"attrAuthor",value:n.attrAuthor},{name:"attrUrl",value:n.attrUrl}],children:[{type:"text",value:n.caption}]}]}},ue=e=>{const n=[];for(const t of e.children)if(t.children.some(r=>r.name==="Chart"||r.name==="Map"))for(const r of t.children)(r.name==="Chart"||r.name==="Map")&&n.push(L(r));else n.push({type:"mdxJsxFlowElement",name:"Prose",attributes:[],children:[...t.children]});return n},fe=e=>{const n=[],t=i=>({type:"mdxJsxFlowElement",name:"Prose",children:[...i]}),r=i=>{const c=[];let o=[];for(const l of i)if(l.type==="mdxJsxTextElement"||l.type==="mdxJsxFlowElement"){if(l.name==="Break")o.length>0&&(c.push([t(o)]),o=[]);else if(l.name==="Block"||l.name==="Chart"||l.name==="Map"||l.name==="MapBlock"||l.name==="TwoColumn"){if(c.push([t(o)]),l.name==="Chart"||l.name==="Map")c.push([L(l)]);else if(l.name==="TwoColumn"){const a=ue(l);c.push(a)}o=[]}}else o.push(l);return o.length>0&&c.push([...o]),c};if(e.type==="root"&&Array.isArray(e.children)){const i=r(e.children);for(const c of i)c.some(o=>o.name==="Prose")?n.push({type:"mdxJsxFlowElement",name:"Block",children:[...c]}):n.push({type:"mdxJsxFlowElement",name:"Block",children:[{type:"mdxJsxFlowElement",name:"Prose",children:[...c]}]})}return n},It=e=>{if(!e||e.type!=="root"||!Array.isArray(e.children))return e;const n=[];for(const t of e.children)t.type==="paragraph"&&t.children.length===1&&t.children[0].type==="mdxJsxFlowElement"?n.push(t.children[0]):n.push(t);return{...e,children:n}},Ht=e=>{const n=It(e),t=fe(n);se(n);const r={...n,children:t};return(c=>Ft(c,{extensions:[Dt(),F.gfmToMarkdown(),_.mdxJsxToMarkdown()]}))(r)},he=P.createContext(null),zt=({children:e,value:n})=>m.jsx(he.Provider,{value:n,children:e}),qt=()=>{const e=P.useContext(he);if(!e)throw new Error("useChartContext must be used within a ChartContextProvider");return e},de=P.createContext(null),$t=({children:e,value:n})=>m.jsx(de.Provider,{value:n,children:e}),Vt=()=>{const e=P.useContext(de);if(!e)throw new Error("useMapContext must be used within a MapContextProvider");return e},Gt=()=>{},me=e=>{const n={"%d":"(0[1-9]|[12][0-9]|3[01])","%m":"(0[1-9]|1[0-2])","%Y":"\\d{4}","%y":"\\d{2}","%H":"([01][0-9]|2[0-3])","%M":"([0-5][0-9])","%S":"([0-5][0-9])"},t=i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let r="";for(let i=0;i<e.length;i++)if(e[i]==="%"&&i<e.length-1){const c=e[i]+e[i+1];r+=n[c]||t(c),i++}else r+=t(e[i]);return new RegExp(`^${r}$`)},w=(e,n)=>!me(e).test(n),pe=(e,n,t,r,i,c,o)=>{e==="highlightStart"||e==="highlightEnd"?w(n.draftDateFormat,i)===!1?(t({highlightStart:w(n.draftDateFormat,n.draftHighlightStart),highlightEnd:w(n.draftDateFormat,n.draftHighlightEnd)}),r.highlightStart==!1&&r.highlightEnd==!1&&c({...o,dateFormat:n.draftDateFormat,highlightStart:n.draftHighlightStart,highlightEnd:n.draftHighlightEnd})):t({highlightStart:w(n.draftDateFormat,n.draftHighlightStart),highlightEnd:w(n.draftDateFormat,n.draftHighlightEnd)}):e==="dateFormat"?t({highlightStart:w(i,o.highlightStart),highlightEnd:w(i,o.highlightEnd)}):r.highlightStart==!1&&r.highlightEnd==!1&&c({...o,dateFormat:n.draftDateFormat,highlightStart:n.draftHighlightStart,highlightEnd:n.draftHighlightEnd})},ge=(e,n,t,r,i,c,o)=>{w(n.defaultDateFormat,i)===!1||i===""?(r({...t,[e]:!1}),c({...o,[e]:i})):r({...t,[e]:!0})},ke=(e,n,t,r,i,c,o)=>{const l=/^\[[+-]?(0|[1-9][0-9]*)(\.[0-9]+)?(?:,\s*[+-]?(0|[1-9][0-9]*)(\.[0-9]+)?)*\]$/,a=i.replace(/\s/g,"");if(l.test(a)){const s=JSON.parse(a),u=d=>d<=180&&d>=-180,h=d=>d<=90&&d>=-90;u(s[0])&&h(s[1])?(r({...t,[e]:!1}),c({...o,[e]:i})):r({...t,[e]:!0})}else r({...t,[e]:!0})},E=(e,n)=>e&&!n?{validationStatus:"error"}:"",Jt=["Blues","Greens","Greys","Oranges","Purples","Reds","Turbo","Viridis","Inferno","Magma","Plasma","Cividis","Warm","Cool","CubehelixDefault"],Nt=e=>{const{value:n,isRequired:t,type:r,fieldName:i,hint:c,onChange:o,componentProps:l,propName:a,placeHolder:s,validateAgainst:u,draftInputs:h,setDraftInputs:d,inputErrors:k,setInputErrors:b,options:y}=e;if(y&&Array.isArray(y))return m.jsxs(m.Fragment,{children:[m.jsx(C.Label,{htmlFor:a,className:"margin-top-2",children:i}),m.jsx("span",{className:"usa-hint",children:c}),m.jsxs(C.Select,{id:a,name:a,value:n,onChange:g=>o({...l,[a]:g.target.value}),...E(t,n),children:[m.jsx("option",{value:"",children:"- Select option -"}),y.map(g=>{const be=typeof g=="object"?g.value:g,Yt=typeof g=="object"?g.label:g;return m.jsx("option",{value:be,children:Yt},be)})]})]});const Zt=r!==void 0&&r.toLowerCase(),[x,Kt]=P.useState(n),O=P.useRef(null);switch(P.useEffect(()=>(a==="dateFormat"&&x!=h.draftDateFormat&&d({...h,draftDateFormat:x}),a==="highlightStart"&&x!=h.draftHighlightStart&&d({...h,draftHighlightStart:x}),a==="highlightEnd"&&x!=h.draftHighlightEnd&&d({...h,draftHighlightEnd:x}),clearTimeout(O.current),O.current=setTimeout(()=>{u&&(a==="dateFormat"||a==="highlightStart"||a==="highlightEnd"?pe(a,h,b,k,x,o,l):u==="defaultDateFormat"?ge(a,h,k,b,x,o,l):u==="centerFormat"?ke(a,h,k,b,x,o,l):o({...l,[a]:x}))},400),()=>clearTimeout(O.current)),[x,h]),Zt){case"date":return m.jsxs(m.Fragment,{children:[m.jsx(C.Label,{htmlFor:"input-type-text",className:"margin-top-2",children:i}),m.jsx("span",{className:"usa-hint",children:c}),m.jsx(C.DatePicker,{defaultValue:n,onChange:g=>console.log("DatePicker",g),...E(t,n)})]});case"checkbox":return m.jsx(C.Checkbox,{id:i,name:"checkbox",label:i,onChange:g=>o({...l,[a]:g.target.value})});case"select":return m.jsxs(m.Fragment,{children:[m.jsx(C.Label,{htmlFor:"input-type-text",className:"margin-top-2",children:i}),m.jsx("span",{className:"usa-hint",children:c}),m.jsx(C.Select,{id:i,name:i,onChange:g=>o({...l,[a]:g.target.value}),children:Jt.map(g=>m.jsx("option",{value:g,children:g},g))})]});case"area":return m.jsxs(m.Fragment,{children:[m.jsx(C.Label,{htmlFor:"input-type-text",className:"margin-top-2",children:i}),m.jsx("span",{className:"usa-hint",children:c}),m.jsx(C.Textarea,{id:"input-type-text",name:"input-type-text",value:n,onChange:g=>{o({...l,[a]:g.target.value})},className:"",...E(t,n)})]});default:return m.jsxs(m.Fragment,{children:[m.jsx(C.Label,{htmlFor:"input-type-text",className:"margin-top-2",children:i}),m.jsx("span",{className:"usa-hint",children:c}),m.jsx(C.TextInput,{id:"input-type-text",name:"input-type-text",type:"text",value:u?x:n,onChange:g=>{u?Kt(g.target.value):o({...l,[a]:g.target.value})},placeholder:s,...E(t,n),validationStatus:u&&(k[a]?"error":void 0)})]})}},Qt=e=>{const{propName:n,customClass:t}=e;return m.jsx("div",{className:t,children:Nt(e)},n)};function Rt(e){const n=e.taxonomy.map(t=>{const r=t.values.map(i=>({id:i.replace(/ /g,"_").toLowerCase(),name:i}));return{...t,values:r}});return{...e,taxonomy:n}}const Wt=e=>e?.map(n=>({...n.metadata})),Xt=e=>{const n={};return e?.map(t=>{const r=t.metadata.id;n[r]={data:t.metadata}}),n};Object.defineProperty(f,"Block",{enumerable:!0,get:()=>p.Block}),Object.defineProperty(f,"Caption",{enumerable:!0,get:()=>p.Caption}),Object.defineProperty(f,"CatalogContent",{enumerable:!0,get:()=>p.CatalogContent}),Object.defineProperty(f,"Chapter",{enumerable:!0,get:()=>p.Chapter}),Object.defineProperty(f,"Chart",{enumerable:!0,get:()=>p.Chart}),Object.defineProperty(f,"CompareImage",{enumerable:!0,get:()=>p.CompareImage}),Object.defineProperty(f,"DatasetSelectorModal",{enumerable:!0,get:()=>p.DatasetSelectorModal}),Object.defineProperty(f,"DevseedUiThemeProvider",{enumerable:!0,get:()=>p.DevseedUiThemeProvider}),Object.defineProperty(f,"ExplorationAndAnalysis",{enumerable:!0,get:()=>p.ExplorationAndAnalysis}),Object.defineProperty(f,"Figure",{enumerable:!0,get:()=>p.Figure}),Object.defineProperty(f,"Image",{enumerable:!0,get:()=>p.Image}),Object.defineProperty(f,"LegacyGlobalStyles",{enumerable:!0,get:()=>p.LegacyGlobalStyles}),Object.defineProperty(f,"MapBlock",{enumerable:!0,get:()=>p.MapBlock}),Object.defineProperty(f,"PageFooter",{enumerable:!0,get:()=>p.PageFooter}),Object.defineProperty(f,"PageHeader",{enumerable:!0,get:()=>p.PageHeader}),Object.defineProperty(f,"PageHero",{enumerable:!0,get:()=>p.PageHero}),Object.defineProperty(f,"Prose",{enumerable:!0,get:()=>p.Prose}),Object.defineProperty(f,"ReactQueryProvider",{enumerable:!0,get:()=>p.ReactQueryProvider}),Object.defineProperty(f,"ScrollytellingBlock",{enumerable:!0,get:()=>p.ScrollytellingBlock}),Object.defineProperty(f,"StoriesHubContent",{enumerable:!0,get:()=>p.StoriesHubContent}),Object.defineProperty(f,"VedaUIProvider",{enumerable:!0,get:()=>p.VedaUIProvider}),Object.defineProperty(f,"externalDatasetsAtom",{enumerable:!0,get:()=>p.externalDatasetsAtom}),Object.defineProperty(f,"timelineDatasetsAtom",{enumerable:!0,get:()=>p.timelineDatasetsAtom}),Object.defineProperty(f,"useFiltersWithQS",{enumerable:!0,get:()=>p.useFiltersWithQS}),Object.defineProperty(f,"useTimelineDatasetAtom",{enumerable:!0,get:()=>p.useTimelineDatasetAtom}),f.ChartContextProvider=zt,f.InputField=Qt,f.MapContextProvider=$t,f.dateFormatValidation=w,f.dateStringToregex=me,f.extractImports=se,f.groupByBreakIntoBlocks=fe,f.handleChartDateValidation=pe,f.handleMapArrayValidation=ke,f.handleMapDateValidation=ge,f.handleTwoColumn=ue,f.inputValidation=Gt,f.processTaxonomies=Rt,f.reserializedMdxContent=Ht,f.transformToDatasetsList=Wt,f.transformToVedaData=Xt,f.useChartContext=qt,f.useMapContext=Vt,f.wrapComponent=L,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.js.map
